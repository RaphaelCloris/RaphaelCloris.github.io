<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å¥½æƒ³è¢«ç½µ - é€šè¨Šè»Ÿé«”ç‰ˆ</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Microsoft JhengHei', sans-serif;
            background: #111;
            margin: 0;
            padding: 0;
            height: 100vh;
            display: flex;
            flex-direction: column;
            color: #fff;
        }
        /* é ‚éƒ¨ç‹€æ…‹åˆ— */
        .header {
            background: #1c1c1c;
            padding: 15px;
            text-align: center;
            font-size: 1.4em;
            box-shadow: 0 2px 10px rgba(0,0,0,0.5);
            position: relative;
            z-index: 10;
        }
        .avatar {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: linear-gradient(135deg, #ff00ff, #ff3366);
            display: inline-block;
            vertical-align: middle;
            margin-right: 15px;
            animation: pulse 2s infinite;
        }
        @keyframes pulse {
            0% { box-shadow: 0 0 0 0 rgba(255,0,255,0.7); }
            70% { box-shadow: 0 0 0 10px rgba(255,0,255,0); }
            100% { box-shadow: 0 0 0 0 rgba(255,0,255,0); }
        }
        .status { font-size: 0.9em; color: #0f0; }

        /* èŠå¤©å€ - ä¿®æ­£èƒŒæ™¯åœ– */
        #chatContainer {
            flex: 1;
            overflow-y: auto;
            padding: 20px 10px;
            background: url('https://raw.githubusercontent.com/abdurrahmanekr/random/master/whatsapp-bg.png') repeat;
            background-size: auto;
            background-color: #0e1f17; /* å‚™ç”¨åº•è‰²ï¼Œè¼‰å…¥æ…¢æ™‚ä¹Ÿæœ‰æ„Ÿè¦º */
        }
        .message {
            margin: 15px 10px;
            display: flex;
            align-items: flex-end;
        }
        .message.scolder { justify-content: flex-start; }
        .message.user { justify-content: flex-end; }
        .bubble {
            max-width: 75%;
            padding: 14px 20px;
            border-radius: 20px;
            font-size: 1.5em;
            line-height: 1.6;
            position: relative;
        }
        .scolder .bubble {
            background: #ff3366;
            color: white;
            border-bottom-left-radius: 5px;
        }
        .user .bubble {
            background: #0088ff;
            color: white;
            border-bottom-right-radius: 5px;
        }

        /* å¿«é€Ÿå›è¦† */
        #quickReplies {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            padding: 15px;
            background: #1c1c1c;
            justify-content: center;
        }
        .replyBtn {
            padding: 12px 20px;
            background: #333;
            color: #fff;
            border: none;
            border-radius: 25px;
            font-size: 1.2em;
            cursor: pointer;
            transition: 0.3s;
        }
        .replyBtn:hover {
            background: #555;
            transform: translateY(-3px);
        }

        /* é–‹å§‹ç•«é¢ */
        #startScreen {
            flex: 1;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            background: linear-gradient(135deg, #1a0033, #330066);
        }
        #startScreen h1 {
            font-size: 3.5em;
            margin-bottom: 20px;
            text-shadow: 0 0 20px #ff00ff;
        }
        #scoldForm {
            background: rgba(255,255,255,0.1);
            padding: 40px;
            border-radius: 30px;
            backdrop-filter: blur(10px);
            width: 90%;
            max-width: 500px;
        }
        select {
            width: 100%;
            padding: 15px;
            margin: 15px 0;
            border-radius: 15px;
            border: none;
            background: rgba(255,255,255,0.2);
            color: white;
            font-size: 1.3em;
        }
        button#startBtn {
            width: 100%;
            padding: 20px;
            font-size: 1.8em;
            background: #ff0066;
            border: none;
            border-radius: 20px;
            color: white;
            margin-top: 20px;
            cursor: pointer;
        }
        audio { display: none; }
    </style>
</head>
<body>

    <!-- é–‹å§‹ç•«é¢ -->
    <div id="startScreen">
        <h1>å¥½æƒ³è¢«ç½µ ğŸ˜ˆ</h1>
        <p style="font-size:1.5em;margin-bottom:30px;color:#ff99ff;">é€šè¨Šè»Ÿé«”ç‰ˆ Â· è¶…åƒçœŸå¯¦è¢«ç½µ</p>
        <form id="scoldForm">
            <select id="job" required>
                <option value="">ä½ çš„è·æ¥­æ˜¯ï¼Ÿ</option>
                <option value="å­¸ç”Ÿ">å­¸ç”Ÿ</option>
                <option value="ä¸Šç­æ—">ä¸Šç­æ—</option>
                <option value="è‡ªç”±æ¥­è€…">è‡ªç”±æ¥­è€…</option>
                <option value="è€é—†">è€é—†</option>
                <option value="ç„¡æ¥­éŠæ°‘">ç„¡æ¥­éŠæ°‘</option>
                <option value="å…¶ä»–">å…¶ä»–</option>
            </select>
            <select id="scolder" required>
                <option value="">æƒ³è¢«èª°ç½µï¼Ÿ</option>
                <option value="åª½åª½">åª½åª½</option>
                <option value="è€é—†">è€é—†</option>
                <option value="å‰ä»»">å‰ä»»</option>
                <option value="è€å¸«">è€å¸«</option>
                <option value="ç¶²å‹">ç¶²å‹</option>
            </select>
            <button type="submit" id="startBtn">é–‹å§‹èŠå¤©ï¼ˆè¢«ç½µï¼‰</button>
        </form>
    </div>

    <!-- èŠå¤©ä»‹é¢ -->
    <div id="chatInterface" style="display:none;flex-direction:column;height:100vh;">
        <div class="header">
            <div class="avatar"></div>
            <span id="scolderName">åª½åª½</span>
            <div class="status" id="status">ç·šä¸Š</div>
        </div>
        <div id="chatContainer"></div>
        <div id="quickReplies"></div>
    </div>

    <!-- éŸ³æ•ˆ -->
    <audio id="sendSound" src="https://cdn.freesound.org/previews/612/612610_5674468-lq.mp3" preload="auto"></audio>
    <audio id="receiveSound" src="https://cdn.freesound.org/previews/522/522262_10387714-lq.mp3" preload="auto"></audio>

    <script>
        // å®Œæ•´ 30 ç¨®ç¬¬ä¸€è¼ªå°ˆå±¬ç½µå¥
        const firstScolds = {
            "å­¸ç”Ÿ_åª½åª½": "åª½åª½çœ‹ä½ é€™å€‹å­¸ç”Ÿé‚„åœ¨ç¡åˆ°ä¸­åˆæ‰èµ·åºŠï¼Œæ°£åˆ°æƒ³æ‹¿æƒæŠŠæ‰“ä½ ï¼šè®€æ›¸è®€æˆé€™æ¨£ï¼Ÿæ•´å¤©æ»‘æ‰‹æ©Ÿæ‰“éŠæˆ²ï¼Œè€ƒè©¦æ°¸é å€’æ•¸ï¼Œåª½ç•¶å¹´ç”Ÿä½ ä¸‹ä¾†ä¸æ˜¯è®“ä½ ç•¶å»¢ç‰©çš„ï¼å¿«çµ¦æˆ‘ç”¨åŠŸï¼Œä¸ç„¶åˆ¥æƒ³æ‹¿é›¶ç”¨éŒ¢ï¼",
            "å­¸ç”Ÿ_è€é—†": "è€é—†çœ‹ä½ é€™å€‹å­¸ç”Ÿä¾†æ‰“å·¥ï¼šå‹•ä½œæ…¢ååã€è€æ˜¯æ»‘æ‰‹æ©Ÿã€æ‰¾éŒ¢é‚„æ‰¾éŒ¯ï¼ä½ é€™ç¨®å­¸ç”Ÿå‡ºä¾†ç¤¾æœƒçµ•å°è¢«è¸©æ­»ï¼Œå»ºè­°ç›´æ¥é€€å­¸å›å®¶èººå¹³æ¯”è¼ƒå¯¦éš›ï¼",
            "å­¸ç”Ÿ_å‰ä»»": "å‰ä»»å›æƒ³è·Ÿä½ é€™å€‹å­¸ç”Ÿäº¤å¾€æ™‚ï¼šå¤©å¤©ç´„æœƒé²åˆ°ã€éŒ¢éƒ½æˆ‘ä»˜ã€é‚„åªæœƒæ’’å¬Œï¼Ÿä½ é€™ç¨®å­¸ç”Ÿç”·å‹/å¥³å‹å°±æ˜¯æ¥µå“çˆ›è²¨ï¼Œåˆ†æ‰‹çœŸçš„æ˜¯æˆ‘æœ€æ­£ç¢ºçš„æ±ºå®šï¼",
            "å­¸ç”Ÿ_è€å¸«": "è€å¸«çœ‹è‘—ä½ é€™å€‹å­¸ç”Ÿæ–é ­ï¼šä¸Šèª²ç¡è¦ºã€ä½œæ¥­æŠ„è¥²ã€è€ƒè©¦ä½œå¼Šé‚„è¢«æŠ“åŒ…ï¼ä½ é€™ç¨®å­¸ç”Ÿå°±æ˜¯ç­ä¸Šçš„æ¯’ç˜¤ï¼Œç•¢æ¥­å¾Œçµ•å°æ²’å‡ºæ¯ï¼Œåˆ¥å†ä¸Ÿæˆ‘çš„è‡‰äº†ï¼",
            "å­¸ç”Ÿ_ç¶²å‹": "ç¶²å‹çœ‹åˆ°ä½ é€™å€‹å­¸ç”Ÿpoæ—¥å¸¸ï¼šæ•´å¤©æ‰“éŠæˆ²ç‚«è€€åƒåœ¾æˆç¸¾ï¼Ÿå“ˆå“ˆå“ˆé€™ç¨®å­¸ç”Ÿå‡ºä¾†ç¤¾æœƒåªæœ‰ç•¶ç¤¾ç•œçš„ä»½ï¼Œæ¨“ä¸»å»¢åˆ°å®¶äº†ï¼Œå»ºè­°ç›´æ¥è¼Ÿå­¸ï¼",

            "ä¸Šç­æ—_åª½åª½": "åª½åª½è½ä½ é€™å€‹ä¸Šç­æ—æŠ±æ€¨åŠ ç­ï¼šåŠ ç­ï¼Ÿé‚£æ˜¯å› ç‚ºä½ èƒ½åŠ›å·®ï¼äººå®¶ä¸Šç­æ—éƒ½å‡è·åŠ è–ªäº†ï¼Œä½ é‚„åœ¨åº•å±¤é ˜æ­»è–ªæ°´ï¼Œå¤©å¤©å›å®¶åªæœƒå–Šç´¯ï¼Œæ²’ç”¨æ±è¥¿ï¼",
            "ä¸Šç­æ—_è€é—†": "è€é—†ç›´æ¥é–‹å™´ä½ é€™å€‹ä¸Šç­æ—ï¼šå ±å‘Šæ°¸é æ‹–æ‹‰ã€é–‹æœƒæ»‘æ‰‹æ©Ÿã€è«‹å‡æ¯”èª°éƒ½å¤šï¼ä½ é€™ç¨®ä¸Šç­æ—å°±æ˜¯å…¬å¸æ¯’ç˜¤ï¼Œç¹¼çºŒé€™æ¨£ä¸‹å€‹æœˆç›´æ¥è³‡é£ï¼",
            "ä¸Šç­æ—_å‰ä»»": "å‰ä»»å†·ç¬‘ï¼šè·Ÿä½ é€™å€‹ä¸Šç­æ—åˆ†æ‰‹å¾Œæˆ‘æ‰ç™¼ç¾è‡ªç”±ï¼å¤©å¤©åŠ ç­æ²’ç©ºé™ªæˆ‘ã€è–ªæ°´ä½åˆ°ä»˜ä¸èµ·ç´„æœƒéŒ¢ï¼Œä½ é€™ç¨®ä¸Šç­æ—èª°æ•¢å«/å¨¶å•Šï¼Ÿ",
            "ä¸Šç­æ—_è€å¸«": "è€å¸«è½åˆ°ä½ ç¾åœ¨æ˜¯ä¸Šç­æ—ï¼šç•¶å¹´å°±çŸ¥é“ä½ æœƒè®Šæˆç¤¾ç•œï¼è®€æ›¸ä¸ç”¨åŠŸï¼Œç¾åœ¨è¢«è€é—†å£“æ¦¨æ´»è©²ï¼Œå»¢ç‰©ä¸€å€‹ï¼",
            "ä¸Šç­æ—_ç¶²å‹": "ç¶²å‹çœ‹åˆ°ä½ ä¸Šç­æ—poæ‰“å¡ç…§ï¼šæœä¹æ™šäº”é‚„æ•¢æŠ±æ€¨ï¼Ÿé€™ç¨®ä¸Šç­æ—æœ€æ²’è³‡æ ¼å–Šç´¯ï¼Œå»ºè­°ç›´æ¥è¾­è·å›å®¶åƒçˆ¸åª½ï¼",

            "è‡ªç”±æ¥­è€…_åª½åª½": "åª½åª½è½ä½ èªªè‡ªå·±æ˜¯è‡ªç”±æ¥­è€…ï¼šè‡ªç”±ï¼Ÿæ ¹æœ¬æ˜¯ç„¡æ¥­éŠæ°‘ï¼å¤©å¤©ç¡åˆ°ä¸‹åˆã€æ”¶å…¥ä¸ç©©å®šï¼Œé‚„æ•¢èªªåœ¨è¿½å¤¢ï¼Ÿè¿½å€‹å±ï¼å¿«å»æ‰¾æ­£ç¶“å·¥ä½œï¼",
            "è‡ªç”±æ¥­è€…_è€é—†": "è€é—†ï¼ˆå‰å®¢æˆ¶ï¼‰çœ‹ä½ è‡ªç”±æ¥­è€…ï¼šæ¥æ¡ˆæ°¸é å»¶é²ã€å“è³ªçˆ›åˆ°çˆ†ã€é‚„è€æ˜¯æ¼²åƒ¹ï¼Ÿä½ é€™ç¨®è‡ªç”±æ¥­è€…é²æ—©é¤“æ­»ï¼Œæ¥­ç•Œéƒ½æŠŠä½ æ‹‰é»‘äº†ï¼",
            "è‡ªç”±æ¥­è€…_å‰ä»»": "å‰ä»»ç¿»ç™½çœ¼ï¼šè·Ÿä½ é€™å€‹è‡ªç”±æ¥­è€…äº¤å¾€æ™‚ï¼Œå¤©å¤©åœ¨å®¶è€å»¢ã€æ²’ç©©å®šæ”¶å…¥ç´„æœƒéƒ½AAï¼Œä½ é€™ç¨®äººå–®èº«ä¸€è¼©å­å‰›å¥½ï¼",
            "è‡ªç”±æ¥­è€…_è€å¸«": "è€å¸«å˜†æ°£ï¼šç•¶å¹´ä½ å°±æ„›æ‹–æ‹–æ‹‰æ‹‰ï¼Œç¾åœ¨è‡ªç”±æ¥­è€…æœç„¶ä¸æ„å¤–ï¼Œæ”¶å…¥ä¸ç©©æ´»è©²çª®ä¸€è¼©å­ï¼",
            "è‡ªç”±æ¥­è€…_ç¶²å‹": "ç¶²å‹å™´ä½ ï¼šè‡ªç”±æ¥­è€…ï¼Ÿç¬‘æ­»ï¼Œæ ¹æœ¬åœ¨å®¶æ‘¸é­šé»¨ï¼é€™ç¨®äººé‚„æ•¢poéˆæ„Ÿæ–‡ï¼Œå»ºè­°ç›´æ¥å»é ˜æ•‘æ¿Ÿé‡‘ï¼",

            "è€é—†_åª½åª½": "åª½åª½è½ä½ èªªè‡ªå·±æ˜¯è€é—†ï¼šè€é—†ï¼Ÿå“¡å·¥éƒ½è·‘å…‰äº†å§ï¼ä½ é€™ç¨®è€é—†åªæœƒå£“æ¦¨å“¡å·¥ï¼Œè‡ªå·±å»ä¸æœƒè³ºéŒ¢ï¼Œå…¬å¸é²æ—©å€’é–‰ï¼",
            "è€é—†_è€é—†": "åŒæ¥­è€é—†å˜²ç¬‘ä½ ï¼šä½ é€™ç¨®è€é—†é‚„æ•¢é–‹å…¬å¸ï¼Ÿç®¡ç†äº‚ä¸ƒå…«ç³Ÿã€å“¡å·¥æ€¨è²è¼‰é“ï¼Œç”Ÿæ„é²æ—©è¢«æˆ‘æ¶å…‰ï¼",
            "è€é—†_å‰ä»»": "å‰ä»»å†·ç¬‘ï¼šè·Ÿä½ é€™å€‹è€é—†äº¤å¾€æ™‚ï¼Œå¤©å¤©å¿™åˆ°æ²’ç©ºé™ªæˆ‘ï¼Œé‚„è€æ„›ç‚«å¯Œï¼Ÿä½ é€™ç¨®è€é—†è¨»å®šå­¤ç¨çµ‚è€ï¼",
            "è€é—†_è€å¸«": "è€å¸«æ–é ­ï¼šç•¶å¹´ä½ å°±æ„›è£å¤§å°¾ï¼Œç¾åœ¨ç•¶è€é—†æœç„¶é©•å‚²è‡ªå¤§ï¼Œå…¬å¸æ’ä¸éä¸‰å¹´ï¼",
            "è€é—†_ç¶²å‹": "ç¶²å‹å‡ºå¾ï¼šé€™ç¨®è€é—†æœ€å¯æƒ¡ï¼å£“æ¦¨å“¡å·¥é‚„poæˆåŠŸå­¸ï¼Œå»ºè­°ç›´æ¥å€’é–‰è®“å“¡å·¥è§£è„«ï¼",

            "ç„¡æ¥­éŠæ°‘_åª½åª½": "åª½åª½æ°£åˆ°æƒ³æ–·çµ•é—œä¿‚ï¼šä½ é€™å€‹ç„¡æ¥­éŠæ°‘å¤©å¤©åœ¨å®¶åƒæˆ‘çš„ç”¨æˆ‘çš„ï¼Œé‚„æ•¢èªªåœ¨æ‰¾å·¥ä½œï¼Ÿæ‰¾å€‹å±ï¼å¿«çµ¦æˆ‘æ»¾å‡ºå»ï¼",
            "ç„¡æ¥­éŠæ°‘_è€é—†": "è€é—†çœ‹ä½ å±¥æ­·ï¼šç„¡æ¥­éŠæ°‘ï¼Ÿç›´æ¥ä¸Ÿåƒåœ¾æ¡¶ï¼ä½ é€™ç¨®äººä¾†é¢è©¦å°±æ˜¯æµªè²»æˆ‘æ™‚é–“ï¼",
            "ç„¡æ¥­éŠæ°‘_å‰ä»»": "å‰ä»»æ…¶å¹¸åˆ†æ‰‹ï¼šå¹¸å¥½æ²’è·Ÿä½ é€™å€‹ç„¡æ¥­éŠæ°‘çµå©šï¼Œä¸ç„¶ç¾åœ¨è¦é¤Šä½ ä¸€è¼©å­ï¼Œå¤ªå¯æ€•äº†ï¼",
            "ç„¡æ¥­éŠæ°‘_è€å¸«": "è€å¸«å¤±æœ›é€é ‚ï¼šç•¶å¹´å°±çŸ¥é“ä½ æœƒè®Šæˆç„¡æ¥­éŠæ°‘ï¼Œè®€æ›¸ä¸ç”¨åŠŸï¼Œç¾åœ¨ç¤¾æœƒé‚Šç·£äººï¼",
            "ç„¡æ¥­éŠæ°‘_ç¶²å‹": "ç¶²å‹ç‹‚å™´ï¼šç„¡æ¥­éŠæ°‘é‚„æ•¢poæ—¥å¸¸ï¼Ÿåœ¨å®¶è€å»¢é»¨æ»¾ç²—å•¦ï¼Œç¤¾æœƒä¸éœ€è¦ä½ é€™ç¨®å¯„ç”ŸèŸ²ï¼",

            "å…¶ä»–_åª½åª½": "åª½åª½è½ä½ èªªè‡ªå·±æ˜¯å…¶ä»–ï¼šå…¶ä»–ï¼Ÿæ ¹æœ¬æ‰¾ä¸åˆ°åˆ†é¡çš„å»¢ç‰©ï¼ä¸ç®¡åšä»€éº¼éƒ½åšä¸å¥½ï¼Œåª½çœŸçš„å°ä½ çµ•æœ›äº†ï¼",
            "å…¶ä»–_è€é—†": "è€é—†ç›´æ¥æ‹’çµ•ï¼šä½ é€™ç¨®å…¶ä»–é¡å‹çš„å“¡å·¥æˆ‘ä¸è¦ï¼å±¥æ­·äº‚ä¸ƒå…«ç³Ÿï¼Œèƒ½åŠ›ä¹Ÿä¸çŸ¥é“åœ¨å“ªï¼",
            "å…¶ä»–_å‰ä»»": "å‰ä»»å¾Œæ‚”ï¼šç•¶åˆæ€éº¼æœƒçœ‹ä¸Šä½ é€™ç¨®å…¶ä»–ï¼Ÿä»€éº¼éƒ½ä¸è¡Œï¼Œé‚„è‡ªä»¥ç‚ºå¾ˆç‰¹åˆ¥ï¼Œæ»¾å•¦ï¼",
            "å…¶ä»–_è€å¸«": "è€å¸«å˜†æ°£ï¼šä½ é€™ç¨®å…¶ä»–å­¸ç”Ÿç•¶å¹´å°±æœ€éº»ç…©ï¼Œä»€éº¼éƒ½ä¸å°ˆç²¾ï¼Œç¾åœ¨æœç„¶å»¢åˆ°ä¸è¡Œï¼",
            "å…¶ä»–_ç¶²å‹": "ç¶²å‹éµç›¤ä¿ æ¨¡å¼å…¨é–‹ï¼šå…¶ä»–ï¼Ÿå“ˆå“ˆå“ˆé€£åˆ†é¡éƒ½æ‰¾ä¸åˆ°çš„æ¥µå“å»¢ç‰©ï¼Œå»ºè­°ç›´æ¥æ¶ˆå¤±ï¼"
        };

        // è¿½åŠ ç½µå¥
        const followUpScolds = {
            "ä¸æœæ°£": "é‚„ä¸æœæ°£ï¼Ÿæ‰¾æ­»å•Šä½ é€™å€‹{job}ï¼{scolder}ä»Šå¤©å¿ƒæƒ…è¶…å·®ï¼Œæ­£å¥½æ‹¿ä½ å‡ºæ°£ï¼Œå™´åˆ°ä½ å´©æ½°ï¼",
            "æ±‚é¥’": "æ±‚é¥’ï¼Ÿè·ªä¸‹å«å¥¶å¥¶éƒ½æ²’ç”¨ï¼ä½ é€™å€‹{job}æ´»è©²è¢«ç½µï¼Œç¹¼çºŒçµ¦æˆ‘é–‰å˜´è½è‘—ï¼",
            "å˜´ç¡¬": "é‚„å˜´ç¡¬ï¼Ÿå¥½å•Šï¼{scolder}ç›´æ¥é–‹å¤§çµ•ï¼Œå™´ä½ é€™å€‹{job}åˆ°ä½ åˆªå¸³è™Ÿï¼",
            "è‡ªå˜²": "è‡ªå˜²ï¼Ÿè£å¯æ†ï¼Ÿ{scolder}æ‰ä¸åƒé€™å¥—ï¼ä½ é€™å€‹{job}å°±æ˜¯å¤©ç”Ÿå»¢ç‰©ï¼Œèªäº†å§åƒåœ¾ï¼",
            "å“­": "å“­äº†ï¼Ÿå“­å¾—å¥½ï¼ç¹¼çºŒå“­ï¼Œ{scolder}å°±æ˜¯è¦ç½µåˆ°ä½ é€™å€‹{job}å“­ä¸åœï¼",
            "æŒ‘é‡": "æŒ‘é‡æˆ‘ï¼Ÿæ­å–œä½ æˆåŠŸæ¿€æ€’{scolder}ï¼Œç¾åœ¨å™´ä½ åˆ°é—œæ©Ÿç‚ºæ­¢ï¼",
            "èªéŒ¯": "èªéŒ¯äº†ï¼Ÿå¤ªæ™šå•¦ï¼ä½ é€™å€‹{job}è¨»å®šè¢«{scolder}ç½µä¸€æ•´å¤©ï¼Œäº«å—å§ï¼",
            "é€ƒè·‘": "æƒ³é€ƒï¼Ÿé–€éƒ½æ²’æœ‰ï¼{scolder}è¿½åˆ°å¤©æ¶¯æµ·è§’ä¹Ÿè¦æŠŠä½ é€™å€‹{job}ç½µé†’ï¼"
        };

        // å¿«é€Ÿå›è¦†é¸é …æ± 
        const quickRepliesPool = [
            "ä¸æœæ°£å•Šï¼Ÿæœ‰ç¨®å†èªª",
            "å¥½å•¦æˆ‘éŒ¯äº†åˆ¥ç½µäº†",
            "ä½ èƒ½å†ç‹ ä¸€é»å—ï¼Ÿ",
            "å“ˆå“ˆæˆ‘å°±æ˜¯å»¢ç‰©å•¦",
            "å—šå—šæˆ‘å“­äº†",
            "ä¾†å•Šäº’ç›¸å‚·å®³å•Š",
            "å°ä¸èµ·æˆ‘çœŸçš„éŒ¯äº†",
            "æˆ‘è·‘äº†æ°æ°"
        ];

        const chatContainer = document.getElementById('chatContainer');
        const quickReplies = document.getElementById('quickReplies');
        const scolderNameSpan = document.getElementById('scolderName');
        const status = document.getElementById('status');
        const sendSound = document.getElementById('sendSound');
        const receiveSound = document.getElementById('receiveSound');

        let currentJob = "";
        let currentScolder = "";

        function addMessage(text, sender) {
            const msgDiv = document.createElement('div');
            msgDiv.className = `message ${sender}`;
            const bubble = document.createElement('div');
            bubble.className = 'bubble';
            bubble.textContent = text;
            msgDiv.appendChild(bubble);
            chatContainer.appendChild(msgDiv);
            chatContainer.scrollTop = chatContainer.scrollHeight;
        }

        function typeMessage(text, sender, callback) {
            const msgDiv = document.createElement('div');
            msgDiv.className = `message ${sender}`;
            const bubble = document.createElement('div');
            bubble.className = 'bubble';
            bubble.textContent = '';
            msgDiv.appendChild(bubble);
            chatContainer.appendChild(msgDiv);

            status.textContent = "æ­£åœ¨è¼¸å…¥...";
            receiveSound.play().catch(() => {});

            let i = 0;
            const interval = setInterval(() => {
                if (i < text.length) {
                    bubble.textContent += text.charAt(i);
                    i++;
                    chatContainer.scrollTop = chatContainer.scrollHeight;
                } else {
                    clearInterval(interval);
                    status.textContent = "ç·šä¸Š";
                    if (callback) callback();
                }
            }, 60);
        }

        function showQuickReplies() {
            quickReplies.innerHTML = '';
            const shuffled = [...quickRepliesPool].sort(() => 0.5 - Math.random());
            shuffled.slice(0, 3).forEach(text => {
                const btn = document.createElement('button');
                btn.className = 'replyBtn';
                btn.textContent = text;
                btn.onclick = () => userReply(text);
                quickReplies.appendChild(btn);
            });
        }

        function userReply(text) {
            addMessage(text, 'user');
            sendSound.play().catch(() => {});
            quickReplies.innerHTML = '';
            status.textContent = "æ­£åœ¨è¼¸å…¥...";

            setTimeout(() => {
                let attitude = "å˜´ç¡¬";
                if (text.includes("ä¸æœæ°£") || text.includes("æœ‰ç¨®")) attitude = "ä¸æœæ°£";
                else if (text.includes("éŒ¯äº†") || text.includes("å°ä¸èµ·")) attitude = "æ±‚é¥’";
                else if (text.includes("ç‹ ") || text.includes("äº’ç›¸") || text.includes("ä¾†å•Š")) attitude = "å˜´ç¡¬";
                else if (text.includes("å»¢ç‰©")) attitude = "è‡ªå˜²";
                else if (text.includes("å“­")) attitude = "å“­";
                else if (text.includes("æŒ‘é‡")) attitude = "æŒ‘é‡";
                else if (text.includes("èªéŒ¯")) attitude = "èªéŒ¯";
                else if (text.includes("è·‘") || text.includes("æ°æ°")) attitude = "é€ƒè·‘";

                let reply = followUpScolds[attitude];
                reply = reply.replace(/{job}/g, currentJob).replace(/{scolder}/g, currentScolder);

                typeMessage(reply, 'scolder', showQuickReplies);
            }, 1200 + Math.random() * 1000);
        }

        document.getElementById('scoldForm').addEventListener('submit', e => {
            e.preventDefault();
            currentJob = document.getElementById('job').value;
            currentScolder = document.getElementById('scolder').value;

            if (!currentJob || !currentScolder) return;

            scolderNameSpan.textContent = currentScolder;
            const key = `${currentJob}_${currentScolder}`;
            const firstMsg = firstScolds[key] || "å»¢ç‰©ï¼ä½ èª°å•Šï¼Ÿæ»¾ï¼";

            document.getElementById('startScreen').style.display = 'none';
            document.getElementById('chatInterface').style.display = 'flex';

            setTimeout(() => {
                typeMessage(firstMsg, 'scolder', showQuickReplies);
            }, 800);
        });
    </script>
</body>
</html>            line-height: 1.6;
            position: relative;
        }
        .scolder .bubble {
            background: #ff3366;
            color: white;
            border-bottom-left-radius: 5px;
        }
        .user .bubble {
            background: #0088ff;
            color: white;
            border-bottom-right-radius: 5px;
        }
        .typing {
            font-size: 1.2em;
            color: #aaa;
            padding: 10px 20px;
            font-style: italic;
        }

        /* å¿«é€Ÿå›è¦† */
        #quickReplies {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            padding: 15px;
            background: #1c1c1c;
            justify-content: center;
        }
        .replyBtn {
            padding: 12px 20px;
            background: #333;
            color: #fff;
            border: none;
            border-radius: 25px;
            font-size: 1.2em;
            cursor: pointer;
            transition: 0.3s;
        }
        .replyBtn:hover {
            background: #555;
            transform: translateY(-3px);
        }

        /* é–‹å§‹ç•«é¢ */
        #startScreen {
            flex: 1;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            background: linear-gradient(135deg, #1a0033, #330066);
        }
        #startScreen h1 {
            font-size: 3.5em;
            margin-bottom: 20px;
            text-shadow: 0 0 20px #ff00ff;
        }
        #scoldForm {
            background: rgba(255,255,255,0.1);
            padding: 40px;
            border-radius: 30px;
            backdrop-filter: blur(10px);
            width: 90%;
            max-width: 500px;
        }
        select {
            width: 100%;
            padding: 15px;
            margin: 15px 0;
            border-radius: 15px;
            border: none;
            background: rgba(255,255,255,0.2);
            color: white;
            font-size: 1.3em;
        }
        button#startBtn {
            width: 100%;
            padding: 20px;
            font-size: 1.8em;
            background: #ff0066;
            border: none;
            border-radius: 20px;
            color: white;
            margin-top: 20px;
            cursor: pointer;
        }
        audio { display: none; }
    </style>
</head>
<body>

    <!-- é–‹å§‹ç•«é¢ -->
    <div id="startScreen">
        <h1>å¥½æƒ³è¢«ç½µ ğŸ˜ˆ</h1>
        <p style="font-size:1.5em;margin-bottom:30px;color:#ff99ff;">é€šè¨Šè»Ÿé«”ç‰ˆ </p>
        <form id="scoldForm">
            <select id="job" required>
                <option value="">ä½ çš„è·æ¥­æ˜¯ï¼Ÿ</option>
                <option value="å­¸ç”Ÿ">å­¸ç”Ÿ</option>
                <option value="ä¸Šç­æ—">ä¸Šç­æ—</option>
                <option value="è‡ªç”±æ¥­è€…">è‡ªç”±æ¥­è€…</option>
                <option value="è€é—†">è€é—†</option>
                <option value="ç„¡æ¥­éŠæ°‘">ç„¡æ¥­éŠæ°‘</option>
                <option value="å…¶ä»–">å…¶ä»–</option>
            </select>
            <select id="scolder" required>
                <option value="">æƒ³è¢«èª°ç½µï¼Ÿ</option>
                <option value="åª½åª½">åª½åª½</option>
                <option value="è€é—†">è€é—†</option>
                <option value="å‰ä»»">å‰ä»»</option>
                <option value="è€å¸«">è€å¸«</option>
                <option value="ç¶²å‹">ç¶²å‹</option>
            </select>
            <button type="submit" id="startBtn">é–‹å§‹èŠå¤©ï¼ˆè¢«ç½µï¼‰</button>
        </form>
    </div>

    <!-- èŠå¤©ä»‹é¢ -->
    <div id="chatInterface" style="display:none;flex-direction:column;height:100vh;">
        <div class="header">
            <div class="avatar"></div>
            <span id="scolderName">åª½åª½</span>
            <div class="status" id="status">ç·šä¸Š</div>
        </div>
        <div id="chatContainer"></div>
        <div id="quickReplies"></div>
    </div>

    <!-- éŸ³æ•ˆ -->
    <audio id="sendSound" src="https://cdn.freesound.org/previews/612/612610_5674468-lq.mp3" preload="auto"></audio>
    <audio id="receiveSound" src="https://cdn.freesound.org/previews/522/522262_10387714-lq.mp3" preload="auto"></audio>

    <script>
        // å®Œæ•´ 30 ç¨®ç¬¬ä¸€è¼ªå°ˆå±¬ç½µå¥ï¼ˆå…¨éƒ¨æ­£é«”ä¸­æ–‡ï¼‰
        const firstScolds = {
            "å­¸ç”Ÿ_åª½åª½": "åª½åª½çœ‹ä½ é€™å€‹å­¸ç”Ÿé‚„åœ¨ç¡åˆ°ä¸­åˆæ‰èµ·åºŠï¼Œæ°£åˆ°æƒ³æ‹¿æƒæŠŠæ‰“ä½ ï¼šè®€æ›¸è®€æˆé€™æ¨£ï¼Ÿæ•´å¤©æ»‘æ‰‹æ©Ÿæ‰“éŠæˆ²ï¼Œè€ƒè©¦æ°¸é å€’æ•¸ï¼Œåª½ç•¶å¹´ç”Ÿä½ ä¸‹ä¾†ä¸æ˜¯è®“ä½ ç•¶å»¢ç‰©çš„ï¼å¿«çµ¦æˆ‘ç”¨åŠŸï¼Œä¸ç„¶åˆ¥æƒ³æ‹¿é›¶ç”¨éŒ¢ï¼",
            "å­¸ç”Ÿ_è€é—†": "è€é—†çœ‹ä½ é€™å€‹å­¸ç”Ÿä¾†æ‰“å·¥ï¼šå‹•ä½œæ…¢ååã€è€æ˜¯æ»‘æ‰‹æ©Ÿã€æ‰¾éŒ¢é‚„æ‰¾éŒ¯ï¼ä½ é€™ç¨®å­¸ç”Ÿå‡ºä¾†ç¤¾æœƒçµ•å°è¢«è¸©æ­»ï¼Œå»ºè­°ç›´æ¥é€€å­¸å›å®¶èººå¹³æ¯”è¼ƒå¯¦éš›ï¼",
            "å­¸ç”Ÿ_å‰ä»»": "å‰ä»»å›æƒ³è·Ÿä½ é€™å€‹å­¸ç”Ÿäº¤å¾€æ™‚ï¼šå¤©å¤©ç´„æœƒé²åˆ°ã€éŒ¢éƒ½æˆ‘ä»˜ã€é‚„åªæœƒæ’’å¬Œï¼Ÿä½ é€™ç¨®å­¸ç”Ÿç”·å‹/å¥³å‹å°±æ˜¯æ¥µå“çˆ›è²¨ï¼Œåˆ†æ‰‹çœŸçš„æ˜¯æˆ‘æœ€æ­£ç¢ºçš„æ±ºå®šï¼",
            "å­¸ç”Ÿ_è€å¸«": "è€å¸«çœ‹è‘—ä½ é€™å€‹å­¸ç”Ÿæ–é ­ï¼šä¸Šèª²ç¡è¦ºã€ä½œæ¥­æŠ„è¥²ã€è€ƒè©¦ä½œå¼Šé‚„è¢«æŠ“åŒ…ï¼ä½ é€™ç¨®å­¸ç”Ÿå°±æ˜¯ç­ä¸Šçš„æ¯’ç˜¤ï¼Œç•¢æ¥­å¾Œçµ•å°æ²’å‡ºæ¯ï¼Œåˆ¥å†ä¸Ÿæˆ‘çš„è‡‰äº†ï¼",
            "å­¸ç”Ÿ_ç¶²å‹": "ç¶²å‹çœ‹åˆ°ä½ é€™å€‹å­¸ç”Ÿpoæ—¥å¸¸ï¼šæ•´å¤©æ‰“éŠæˆ²ç‚«è€€åƒåœ¾æˆç¸¾ï¼Ÿå“ˆå“ˆå“ˆé€™ç¨®å­¸ç”Ÿå‡ºä¾†ç¤¾æœƒåªæœ‰ç•¶ç¤¾ç•œçš„ä»½ï¼Œæ¨“ä¸»å»¢åˆ°å®¶äº†ï¼Œå»ºè­°ç›´æ¥è¼Ÿå­¸ï¼",

            "ä¸Šç­æ—_åª½åª½": "åª½åª½è½ä½ é€™å€‹ä¸Šç­æ—æŠ±æ€¨åŠ ç­ï¼šåŠ ç­ï¼Ÿé‚£æ˜¯å› ç‚ºä½ èƒ½åŠ›å·®ï¼äººå®¶ä¸Šç­æ—éƒ½å‡è·åŠ è–ªäº†ï¼Œä½ é‚„åœ¨åº•å±¤é ˜æ­»è–ªæ°´ï¼Œå¤©å¤©å›å®¶åªæœƒå–Šç´¯ï¼Œæ²’ç”¨æ±è¥¿ï¼",
            "ä¸Šç­æ—_è€é—†": "è€é—†ç›´æ¥é–‹å™´ä½ é€™å€‹ä¸Šç­æ—ï¼šå ±å‘Šæ°¸é æ‹–æ‹‰ã€é–‹æœƒæ»‘æ‰‹æ©Ÿã€è«‹å‡æ¯”èª°éƒ½å¤šï¼ä½ é€™ç¨®ä¸Šç­æ—å°±æ˜¯å…¬å¸æ¯’ç˜¤ï¼Œç¹¼çºŒé€™æ¨£ä¸‹å€‹æœˆç›´æ¥è³‡é£ï¼",
            "ä¸Šç­æ—_å‰ä»»": "å‰ä»»å†·ç¬‘ï¼šè·Ÿä½ é€™å€‹ä¸Šç­æ—åˆ†æ‰‹å¾Œæˆ‘æ‰ç™¼ç¾è‡ªç”±ï¼å¤©å¤©åŠ ç­æ²’ç©ºé™ªæˆ‘ã€è–ªæ°´ä½åˆ°ä»˜ä¸èµ·ç´„æœƒéŒ¢ï¼Œä½ é€™ç¨®ä¸Šç­æ—èª°æ•¢å«/å¨¶å•Šï¼Ÿ",
            "ä¸Šç­æ—_è€å¸«": "è€å¸«è½åˆ°ä½ ç¾åœ¨æ˜¯ä¸Šç­æ—ï¼šç•¶å¹´å°±çŸ¥é“ä½ æœƒè®Šæˆç¤¾ç•œï¼è®€æ›¸ä¸ç”¨åŠŸï¼Œç¾åœ¨è¢«è€é—†å£“æ¦¨æ´»è©²ï¼Œå»¢ç‰©ä¸€å€‹ï¼",
            "ä¸Šç­æ—_ç¶²å‹": "ç¶²å‹çœ‹åˆ°ä½ ä¸Šç­æ—poæ‰“å¡ç…§ï¼šæœä¹æ™šäº”é‚„æ•¢æŠ±æ€¨ï¼Ÿé€™ç¨®ä¸Šç­æ—æœ€æ²’è³‡æ ¼å–Šç´¯ï¼Œå»ºè­°ç›´æ¥è¾­è·å›å®¶åƒçˆ¸åª½ï¼",

            "è‡ªç”±æ¥­è€…_åª½åª½": "åª½åª½è½ä½ èªªè‡ªå·±æ˜¯è‡ªç”±æ¥­è€…ï¼šè‡ªç”±ï¼Ÿæ ¹æœ¬æ˜¯ç„¡æ¥­éŠæ°‘ï¼å¤©å¤©ç¡åˆ°ä¸‹åˆã€æ”¶å…¥ä¸ç©©å®šï¼Œé‚„æ•¢èªªåœ¨è¿½å¤¢ï¼Ÿè¿½å€‹å±ï¼å¿«å»æ‰¾æ­£ç¶“å·¥ä½œï¼",
            "è‡ªç”±æ¥­è€…_è€é—†": "è€é—†ï¼ˆå‰å®¢æˆ¶ï¼‰çœ‹ä½ è‡ªç”±æ¥­è€…ï¼šæ¥æ¡ˆæ°¸é å»¶é²ã€å“è³ªçˆ›åˆ°çˆ†ã€é‚„è€æ˜¯æ¼²åƒ¹ï¼Ÿä½ é€™ç¨®è‡ªç”±æ¥­è€…é²æ—©é¤“æ­»ï¼Œæ¥­ç•Œéƒ½æŠŠä½ æ‹‰é»‘äº†ï¼",
            "è‡ªç”±æ¥­è€…_å‰ä»»": "å‰ä»»ç¿»ç™½çœ¼ï¼šè·Ÿä½ é€™å€‹è‡ªç”±æ¥­è€…äº¤å¾€æ™‚ï¼Œå¤©å¤©åœ¨å®¶è€å»¢ã€æ²’ç©©å®šæ”¶å…¥ç´„æœƒéƒ½AAï¼Œä½ é€™ç¨®äººå–®èº«ä¸€è¼©å­å‰›å¥½ï¼",
            "è‡ªç”±æ¥­è€…_è€å¸«": "è€å¸«å˜†æ°£ï¼šç•¶å¹´ä½ å°±æ„›æ‹–æ‹–æ‹‰æ‹‰ï¼Œç¾åœ¨è‡ªç”±æ¥­è€…æœç„¶ä¸æ„å¤–ï¼Œæ”¶å…¥ä¸ç©©æ´»è©²çª®ä¸€è¼©å­ï¼",
            "è‡ªç”±æ¥­è€…_ç¶²å‹": "ç¶²å‹å™´ä½ ï¼šè‡ªç”±æ¥­è€…ï¼Ÿç¬‘æ­»ï¼Œæ ¹æœ¬åœ¨å®¶æ‘¸é­šé»¨ï¼é€™ç¨®äººé‚„æ•¢poéˆæ„Ÿæ–‡ï¼Œå»ºè­°ç›´æ¥å»é ˜æ•‘æ¿Ÿé‡‘ï¼",

            "è€é—†_åª½åª½": "åª½åª½è½ä½ èªªè‡ªå·±æ˜¯è€é—†ï¼šè€é—†ï¼Ÿå“¡å·¥éƒ½è·‘å…‰äº†å§ï¼ä½ é€™ç¨®è€é—†åªæœƒå£“æ¦¨å“¡å·¥ï¼Œè‡ªå·±å»ä¸æœƒè³ºéŒ¢ï¼Œå…¬å¸é²æ—©å€’é–‰ï¼",
            "è€é—†_è€é—†": "åŒæ¥­è€é—†å˜²ç¬‘ä½ ï¼šä½ é€™ç¨®è€é—†é‚„æ•¢é–‹å…¬å¸ï¼Ÿç®¡ç†äº‚ä¸ƒå…«ç³Ÿã€å“¡å·¥æ€¨è²è¼‰é“ï¼Œç”Ÿæ„é²æ—©è¢«æˆ‘æ¶å…‰ï¼",
            "è€é—†_å‰ä»»": "å‰ä»»å†·ç¬‘ï¼šè·Ÿä½ é€™å€‹è€é—†äº¤å¾€æ™‚ï¼Œå¤©å¤©å¿™åˆ°æ²’ç©ºé™ªæˆ‘ï¼Œé‚„è€æ„›ç‚«å¯Œï¼Ÿä½ é€™ç¨®è€é—†è¨»å®šå­¤ç¨çµ‚è€ï¼",
            "è€é—†_è€å¸«": "è€å¸«æ–é ­ï¼šç•¶å¹´ä½ å°±æ„›è£å¤§å°¾ï¼Œç¾åœ¨ç•¶è€é—†æœç„¶é©•å‚²è‡ªå¤§ï¼Œå…¬å¸æ’ä¸éä¸‰å¹´ï¼",
            "è€é—†_ç¶²å‹": "ç¶²å‹å‡ºå¾ï¼šé€™ç¨®è€é—†æœ€å¯æƒ¡ï¼å£“æ¦¨å“¡å·¥é‚„poæˆåŠŸå­¸ï¼Œå»ºè­°ç›´æ¥å€’é–‰è®“å“¡å·¥è§£è„«ï¼",

            "ç„¡æ¥­éŠæ°‘_åª½åª½": "åª½åª½æ°£åˆ°æƒ³æ–·çµ•é—œä¿‚ï¼šä½ é€™å€‹ç„¡æ¥­éŠæ°‘å¤©å¤©åœ¨å®¶åƒæˆ‘çš„ç”¨æˆ‘çš„ï¼Œé‚„æ•¢èªªåœ¨æ‰¾å·¥ä½œï¼Ÿæ‰¾å€‹å±ï¼å¿«çµ¦æˆ‘æ»¾å‡ºå»ï¼",
            "ç„¡æ¥­éŠæ°‘_è€é—†": "è€é—†çœ‹ä½ å±¥æ­·ï¼šç„¡æ¥­éŠæ°‘ï¼Ÿç›´æ¥ä¸Ÿåƒåœ¾æ¡¶ï¼ä½ é€™ç¨®äººä¾†é¢è©¦å°±æ˜¯æµªè²»æˆ‘æ™‚é–“ï¼",
            "ç„¡æ¥­éŠæ°‘_å‰ä»»": "å‰ä»»æ…¶å¹¸åˆ†æ‰‹ï¼šå¹¸å¥½æ²’è·Ÿä½ é€™å€‹ç„¡æ¥­éŠæ°‘çµå©šï¼Œä¸ç„¶ç¾åœ¨è¦é¤Šä½ ä¸€è¼©å­ï¼Œå¤ªå¯æ€•äº†ï¼",
            "ç„¡æ¥­éŠæ°‘_è€å¸«": "è€å¸«å¤±æœ›é€é ‚ï¼šç•¶å¹´å°±çŸ¥é“ä½ æœƒè®Šæˆç„¡æ¥­éŠæ°‘ï¼Œè®€æ›¸ä¸ç”¨åŠŸï¼Œç¾åœ¨ç¤¾æœƒé‚Šç·£äººï¼",
            "ç„¡æ¥­éŠæ°‘_ç¶²å‹": "ç¶²å‹ç‹‚å™´ï¼šç„¡æ¥­éŠæ°‘é‚„æ•¢poæ—¥å¸¸ï¼Ÿåœ¨å®¶è€å»¢é»¨æ»¾ç²—å•¦ï¼Œç¤¾æœƒä¸éœ€è¦ä½ é€™ç¨®å¯„ç”ŸèŸ²ï¼",

            "å…¶ä»–_åª½åª½": "åª½åª½è½ä½ èªªè‡ªå·±æ˜¯å…¶ä»–ï¼šå…¶ä»–ï¼Ÿæ ¹æœ¬æ‰¾ä¸åˆ°åˆ†é¡çš„å»¢ç‰©ï¼ä¸ç®¡åšä»€éº¼éƒ½åšä¸å¥½ï¼Œåª½çœŸçš„å°ä½ çµ•æœ›äº†ï¼",
            "å…¶ä»–_è€é—†": "è€é—†ç›´æ¥æ‹’çµ•ï¼šä½ é€™ç¨®å…¶ä»–é¡å‹çš„å“¡å·¥æˆ‘ä¸è¦ï¼å±¥æ­·äº‚ä¸ƒå…«ç³Ÿï¼Œèƒ½åŠ›ä¹Ÿä¸çŸ¥é“åœ¨å“ªï¼",
            "å…¶ä»–_å‰ä»»": "å‰ä»»å¾Œæ‚”ï¼šç•¶åˆæ€éº¼æœƒçœ‹ä¸Šä½ é€™ç¨®å…¶ä»–ï¼Ÿä»€éº¼éƒ½ä¸è¡Œï¼Œé‚„è‡ªä»¥ç‚ºå¾ˆç‰¹åˆ¥ï¼Œæ»¾å•¦ï¼",
            "å…¶ä»–_è€å¸«": "è€å¸«å˜†æ°£ï¼šä½ é€™ç¨®å…¶ä»–å­¸ç”Ÿç•¶å¹´å°±æœ€éº»ç…©ï¼Œä»€éº¼éƒ½ä¸å°ˆç²¾ï¼Œç¾åœ¨æœç„¶å»¢åˆ°ä¸è¡Œï¼",
            "å…¶ä»–_ç¶²å‹": "ç¶²å‹éµç›¤ä¿ æ¨¡å¼å…¨é–‹ï¼šå…¶ä»–ï¼Ÿå“ˆå“ˆå“ˆé€£åˆ†é¡éƒ½æ‰¾ä¸åˆ°çš„æ¥µå“å»¢ç‰©ï¼Œå»ºè­°ç›´æ¥æ¶ˆå¤±ï¼"
        };

        // è¿½åŠ ç½µå¥ï¼ˆæ­£é«”ä¸­æ–‡ï¼‰
        const followUpScolds = {
            "ä¸æœæ°£": "é‚„ä¸æœæ°£ï¼Ÿæ‰¾æ­»å•Šä½ é€™å€‹{job}ï¼{scolder}ä»Šå¤©å¿ƒæƒ…è¶…å·®ï¼Œæ­£å¥½æ‹¿ä½ å‡ºæ°£ï¼Œå™´åˆ°ä½ å´©æ½°ï¼",
            "æ±‚é¥’": "æ±‚é¥’ï¼Ÿè·ªä¸‹å«å¥¶å¥¶éƒ½æ²’ç”¨ï¼ä½ é€™å€‹{job}æ´»è©²è¢«ç½µï¼Œç¹¼çºŒçµ¦æˆ‘é–‰å˜´è½è‘—ï¼",
            "å˜´ç¡¬": "é‚„å˜´ç¡¬ï¼Ÿå¥½å•Šï¼{scolder}ç›´æ¥é–‹å¤§çµ•ï¼Œå™´ä½ é€™å€‹{job}åˆ°ä½ åˆªå¸³è™Ÿï¼",
            "è‡ªå˜²": "è‡ªå˜²ï¼Ÿè£å¯æ†ï¼Ÿ{scolder}æ‰ä¸åƒé€™å¥—ï¼ä½ é€™å€‹{job}å°±æ˜¯å¤©ç”Ÿå»¢ç‰©ï¼Œèªäº†å§åƒåœ¾ï¼",
            "å“­": "å“­äº†ï¼Ÿå“­å¾—å¥½ï¼ç¹¼çºŒå“­ï¼Œ{scolder}å°±æ˜¯è¦ç½µåˆ°ä½ é€™å€‹{job}å“­ä¸åœï¼",
            "æŒ‘é‡": "æŒ‘é‡æˆ‘ï¼Ÿæ­å–œä½ æˆåŠŸæ¿€æ€’{scolder}ï¼Œç¾åœ¨å™´ä½ åˆ°é—œæ©Ÿç‚ºæ­¢ï¼",
            "èªéŒ¯": "èªéŒ¯äº†ï¼Ÿå¤ªæ™šå•¦ï¼ä½ é€™å€‹{job}è¨»å®šè¢«{scolder}ç½µä¸€æ•´å¤©ï¼Œäº«å—å§ï¼",
            "é€ƒè·‘": "æƒ³é€ƒï¼Ÿé–€éƒ½æ²’æœ‰ï¼{scolder}è¿½åˆ°å¤©æ¶¯æµ·è§’ä¹Ÿè¦æŠŠä½ é€™å€‹{job}ç½µé†’ï¼"
        };

        // å¿«é€Ÿå›è¦†é¸é …æ± ï¼ˆæ­£é«”ä¸­æ–‡ï¼‰
        const quickRepliesPool = [
            "ä¸æœæ°£å•Šï¼Ÿæœ‰ç¨®å†èªª",
            "å¥½å•¦æˆ‘éŒ¯äº†åˆ¥ç½µäº†",
            "ä½ èƒ½å†ç‹ ä¸€é»å—ï¼Ÿ",
            "å“ˆå“ˆæˆ‘å°±æ˜¯å»¢ç‰©å•¦",
            "å—šå—šQQ",
            "ä¾†å•Šäº’ç›¸å‚·å®³å•Š",
            "å°ä¸èµ·æˆ‘çœŸçš„éŒ¯äº†",
            "æˆ‘è·‘äº†æ°æ°"
        ];

        const chatContainer = document.getElementById('chatContainer');
        const quickReplies = document.getElementById('quickReplies');
        const scolderNameSpan = document.getElementById('scolderName');
        const status = document.getElementById('status');
        const sendSound = document.getElementById('sendSound');
        const receiveSound = document.getElementById('receiveSound');

        let currentJob = "";
        let currentScolder = "";

        function addMessage(text, sender) {
            const msgDiv = document.createElement('div');
            msgDiv.className = `message ${sender}`;
            const bubble = document.createElement('div');
            bubble.className = 'bubble';
            bubble.textContent = text;
            msgDiv.appendChild(bubble);
            chatContainer.appendChild(msgDiv);
            chatContainer.scrollTop = chatContainer.scrollHeight;
        }

        function typeMessage(text, sender, callback) {
            const msgDiv = document.createElement('div');
            msgDiv.className = `message ${sender}`;
            const bubble = document.createElement('div');
            bubble.className = 'bubble';
            bubble.textContent = '';
            msgDiv.appendChild(bubble);
            chatContainer.appendChild(msgDiv);

            status.textContent = "æ­£åœ¨è¼¸å…¥...";
            receiveSound.play().catch(() => {});

            let i = 0;
            const interval = setInterval(() => {
                if (i < text.length) {
                    bubble.textContent += text.charAt(i);
                    i++;
                    chatContainer.scrollTop = chatContainer.scrollHeight;
                } else {
                    clearInterval(interval);
                    status.textContent = "ç·šä¸Š";
                    if (callback) callback();
                }
            }, 60);
        }

        function showQuickReplies() {
            quickReplies.innerHTML = '';
            const shuffled = [...quickRepliesPool].sort(() => 0.5 - Math.random());
            shuffled.slice(0, 3).forEach(text => {
                const btn = document.createElement('button');
                btn.className = 'replyBtn';
                btn.textContent = text;
                btn.onclick = () => userReply(text);
                quickReplies.appendChild(btn);
            });
        }

        function userReply(text) {
            addMessage(text, 'user');
            sendSound.play().catch(() => {});
            quickReplies.innerHTML = '';
            status.textContent = "æ­£åœ¨è¼¸å…¥...";

            setTimeout(() => {
                let attitude = "å˜´ç¡¬";
                if (text.includes("ä¸æœæ°£") || text.includes("æœ‰ç¨®")) attitude = "ä¸æœæ°£";
                else if (text.includes("éŒ¯äº†") || text.includes("å°ä¸èµ·")) attitude = "æ±‚é¥’";
                else if (text.includes("ç‹ ") || text.includes("äº’ç›¸") || text.includes("ä¾†å•Š")) attitude = "å˜´ç¡¬";
                else if (text.includes("å»¢ç‰©")) attitude = "è‡ªå˜²";
                else if (text.includes("å“­")) attitude = "å“­";
                else if (text.includes("æŒ‘é‡")) attitude = "æŒ‘é‡";
                else if (text.includes("èªéŒ¯")) attitude = "èªéŒ¯";
                else if (text.includes("è·‘") || text.includes("æ°æ°")) attitude = "é€ƒè·‘";

                let reply = followUpScolds[attitude];
                reply = reply.replace(/{job}/g, currentJob).replace(/{scolder}/g, currentScolder);

                typeMessage(reply, 'scolder', showQuickReplies);
            }, 1200 + Math.random() * 1000);
        }

        document.getElementById('scoldForm').addEventListener('submit', e => {
            e.preventDefault();
            currentJob = document.getElementById('job').value;
            currentScolder = document.getElementById('scolder').value;

            if (!currentJob || !currentScolder) return;

            scolderNameSpan.textContent = currentScolder;
            const key = `${currentJob}_${currentScolder}`;
            const firstMsg = firstScolds[key] || "å»¢ç‰©ï¼ä½ èª°å•Šï¼Ÿæ»¾ï¼";

            document.getElementById('startScreen').style.display = 'none';
            document.getElementById('chatInterface').style.display = 'flex';

            setTimeout(() => {
                typeMessage(firstMsg, 'scolder', showQuickReplies);
            }, 800);
        });
    </script>
</body>
</html>
